(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"1FRO":function(t,n,i){"use strict";var e=i("CcnG"),a=i("ioCk"),o=i("7AdY"),r=i("Ip0R");i("313c"),i.d(n,"a",function(){return l}),i.d(n,"b",function(){return p});var l=e["\u0275crt"]({encapsulation:0,styles:[["pre[_ngcontent-%COMP%]{padding:.5rem;background:#fff}.mat-expansion-panel[_ngcontent-%COMP%]{background:#ffeeef;box-shadow:none}"]],data:{}});function s(t){return e["\u0275vid"](0,[(t()(),e["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),e["\u0275eld"](1,0,null,null,0,"i",[["class","fa fa-spinner fa-spin"]],null,null,null,null,null)),(t()(),e["\u0275ted"](-1,null,[" Loading..."]))],null,null)}function c(t){return e["\u0275vid"](0,[(t()(),e["\u0275eld"](0,0,null,null,4,null,null,null,null,null,null,null)),(t()(),e["\u0275eld"](1,0,null,null,3,"app-error",[],null,null,null,a.b,a.a)),e["\u0275did"](2,114688,null,0,o.a,[],{error:[0,"error"],canClose:[1,"canClose"]},null),e["\u0275pid"](0,r.h,[]),(t()(),e["\u0275ted"](4,0,[" "," "]))],function(t,n){var i=n.component;t(n,2,0,e["\u0275unv"](n,2,0,e["\u0275nov"](n,3).transform(i.state.error||i.state.errorModifying)),!1)},function(t,n){var i=n.component;t(n,4,0,(null==i.state?null:null==i.state.error?null:i.state.error.message)||(null==i.state?null:null==i.state.errorModifying?null:i.state.errorModifying.message))})}function u(t){return e["\u0275vid"](0,[(t()(),e["\u0275eld"](0,0,null,null,1,null,null,null,null,null,null,null)),e["\u0275ncd"](null,0),(t()(),e["\u0275and"](0,null,null,0))],null,null)}function d(t){return e["\u0275vid"](0,[(t()(),e["\u0275eld"](0,0,null,null,6,null,null,null,null,null,null,null)),(t()(),e["\u0275and"](16777216,null,null,1,null,s)),e["\u0275did"](2,16384,null,0,r.n,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),e["\u0275and"](16777216,null,null,1,null,c)),e["\u0275did"](4,16384,null,0,r.n,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),e["\u0275and"](16777216,null,null,1,null,u)),e["\u0275did"](6,16384,null,0,r.n,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),e["\u0275and"](0,null,null,0))],function(t,n){var i=n.component;t(n,2,0,i.state.loading),t(n,4,0,i.errorShow&&(i.state.error||i.state.errorModifying)),t(n,6,0,!(null!=i.state&&i.state.loading||null!=i.state&&i.state.error))},null)}function p(t){return e["\u0275vid"](2,[(t()(),e["\u0275and"](16777216,null,null,1,null,d)),e["\u0275did"](1,16384,null,0,r.n,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,n){t(n,1,0,n.component.state)},null)}},"3B+W":function(t,n,i){"use strict";i.d(n,"a",function(){return e});var e=function(){return function(){}}()},"9B2W":function(t,n,i){"use strict";i.d(n,"a",function(){return a});var e=i("CcnG"),a=function(){function t(){this.listingSelected=new e.EventEmitter}return t.prototype.ngOnInit=function(){},t}()},"CE6+":function(t,n,i){"use strict";i.d(n,"a",function(){return e});var e=function(){function t(){}return t.prototype.markersAdd=function(t,n){n&&n.forEach(function(n){return n.addTo(t)})},t.prototype.heatMapAdd=function(t,n){var i=n.map(function(t){return{type:"Feature",geometry:{type:"Point",coordinates:[t.longitude,t.latitude]}}});t.addSource("heatmap",{type:"geojson",data:{type:"FeatureCollection",crs:{type:"name",properties:{name:"urn:ogc:def:crs:OGC:1.3:CRS84"}},features:i}}),t.addLayer({id:"heatmap",type:"heatmap",source:"heatmap",paint:{"heatmap-color":["interpolate",["linear"],["heatmap-density"],0,"rgba(33,102,172,0)",.2,"rgb(103,169,207)",.4,"rgb(209,229,240)",.6,"rgb(253,219,199)",.8,"rgb(239,138,98)",1,"rgb(178,24,43)"],"heatmap-weight":["interpolate",["exponential",1.5],["zoom"],0,["interpolate",["linear"],["get","density"],0,0,25,1],18.1,["interpolate",["linear"],["get","density"],0,0,15,1]],"heatmap-radius":["interpolate",["linear"],["zoom"],0,2,9,20],"heatmap-intensity":["interpolate",["linear"],["zoom"],0,.25,.99,1,1,.25,1.99,1,2,.25,2.99,1,3,.25,3.99,1,4,.25,4.99,1,5,.25,5.99,1,6,.25,6.99,1,7,.25,7.99,1,8,.25,8.99,1,9,.25,9.99,1,10,.25,10.99,1,11,.25,11.99,1,12,.25,18.99,2],"heatmap-opacity":["interpolate",["exponential",1.5],["zoom"],16,1,18.1,.6]}},"water")},t.prototype.heatMapRemove=function(t){t&&void 0!==t.getLayer("heatmap")&&(t.removeLayer("heatmap"),t.removeSource("heatmap"))},t.prototype.mapFitBounds=function(t,n){n&&n.length&&setTimeout(function(){t.rotateTo(0,{duration:500}),setTimeout(function(){var i=new window.mapboxgl.LngLatBounds;n.forEach(function(t){i.extend(t.getLngLat())}),t.fitBounds(i)},500)},100)},t.prototype.flyToLocation=function(t,n){setTimeout(function(){t.rotateTo(0,{duration:500}),setTimeout(function(){t.flyTo({center:n,zoom:10,pitch:0,speed:2.2,curve:1.42,easing:function(t){return t}})},500)},100)},t.prototype.markersCreate=function(t){var n=this;return t.map(function(t){if(t.latitude&&t.longitude){var i=document.createElement("div");i.className=t.metadata&&t.metadata.iconClass?t.metadata.iconClass:"marker";var e=new window.mapboxgl.Marker(i).setLngLat([t.longitude,t.latitude]);return t.metadata&&t.metadata.title&&n.createPopup(e,t),e}})},t.prototype.createPopup=function(t,n){var i="";n.metadata&&n.metadata.title&&(i+="<h3>"+n.metadata.title+"</h3>"),n.metadata&&n.metadata.description&&(i+="<div>"+n.metadata.description+"</div>"),t.setPopup(new window.mapboxgl.Popup({offset:25}).setHTML(i))},t}()},L6tT:function(t,n,i){"use strict";i.d(n,"a",function(){return o});var e=i("CcnG"),a=i("26FU"),o=function(){function t(){this.listingSelected=new e.EventEmitter,this.locations$=new a.a(null),this.pageIndex=0,this.pageSize=10}return t.prototype.ngOnInit=function(){},t.prototype.ngOnChanges=function(){this.locations&&(this.pageIndex=0),this.locations$.next(this.locationsFilter(this.locations,this.pageIndex,this.pageSize))},t.prototype.pageChanged=function(t){this.pageIndex=t.pageIndex,this.pageSize=t.pageSize,this.locations$.next(this.locationsFilter(this.locations,this.pageIndex,this.pageSize))},t.prototype.modalLaunch=function(){},t.prototype.locationsFilter=function(t,n,i){if(t){var e=n*i,a=(n+1)*i-1;return t.filter(function(t,n){return n>=e&&n<=a})}},t}()},NpCv:function(t,n,i){"use strict";i.d(n,"a",function(){return a});var e=i("CcnG"),a=function(){function t(){this.heatMap=!0,this.submit=new e.EventEmitter,this.listingSelected=new e.EventEmitter,this.toggleSelected=new e.EventEmitter}return t.prototype.ngOnInit=function(){},t.prototype.propTypeChanged=function(t,n){var i={};i[n]=t.source.checked,this.formSearch.patchValue(i)},t.prototype.submitForm=function(t){this.submit.emit(this.formSearch.value),t.stopPropagation(),t.preventDefault()},t}()},cyqa:function(t,n,i){"use strict";i.d(n,"a",function(){return o});var e=i("idnu"),a=function(){return(a=Object.assign||function(t){for(var n,i=1,e=arguments.length;i<e;i++)for(var a in n=arguments[i])Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a]);return t}).apply(this,arguments)},o=function(){function t(t,n,i,e){this.fb=t,this.http=n,this.dialog=i,this.ref=e,this.sidebarMobileShow=!1,this.listingsShowAll=!0,this.heatmap=!1}return t.prototype.ngOnInit=function(){var t=this;this.formSearch=this.fb.group({zip:[{value:"89147",disabled:!0},[]],priceLow:["",[]],priceHigh:["",[]],bedroomsMin:["",[]],bedroomsMax:["",[]],bathsMin:["",[]],bathsMax:["",[]],homeTypes:["",[]],sqFootageMin:["",[]],sqFootageMax:["",[]],is_single_family:["Y",[]],is_multi_family:[!1,[]],is_townhouse:[!1,[]],is_condo:[!1,[]]}),this.formSearch.valueChanges.subscribe(function(t){return console.log(t)}),this.http.get("assets/mock-data/properties.json").subscribe(function(n){t.locationsOriginal=n.map(function(t){var n=t.office_name.toLowerCase().replace(/[^A-Z0-9]/gi,"");return a({},t,{metadata:{title:t.display_address,description:t.city+", "+t.county+" "+t.zip_code,iconClass:-1!==n.indexOf("realtyonegroup")?"marker rog ":null,isBrand:-1!==n.indexOf("realtyonegroup")},latitude:t.display_lat,longitude:t.display_lng})}),t.locationsOriginal.length=500,t.ref.markForCheck()})},t.prototype.listingSelected=function(t){this.listingModal=this.dialog.open(e.a,{width:"90%",data:t})},t.prototype.locationsSearch=function(){this.locations=this.locationsOriginal.slice(),this.sidebarMobileShow=!1,document.getElementById("map-container").scrollTo({top:0,behavior:"smooth"})},t.prototype.toggleSelected=function(t){switch(console.log(t),t.event){case"listingsRog":this.toggleRogListings();break;case"heatmap":this.heatmap=!this.heatmap}},t.prototype.toggleRogListings=function(){var t=this;this.locations=this.locationsOriginal.filter(function(n){return!!(t.listingsShowAll&&n.metadata.isBrand||!t.listingsShowAll)}),this.listingsShowAll=!this.listingsShowAll},t}()},idnu:function(t,n,i){"use strict";i.d(n,"a",function(){return e});var e=function(){function t(t,n,i){this.dialogRef=t,this.data=n,this.dataAlt=i}return t.prototype.ngOnInit=function(){},t.prototype.submit=function(){this.dialogRef.close(this.dataAlt||this.data)},t}()},j7vV:function(t,n,i){"use strict";i.d(n,"a",function(){return e});var e=function(){return function(){}}()},lzlj:function(t,n,i){"use strict";i.d(n,"a",function(){return a}),i.d(n,"b",function(){return o});var e=i("CcnG"),a=(i("FVSy"),i("Fzqc"),i("Wf4p"),i("ZYjt"),e["\u0275crt"]({encapsulation:2,styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(.4,0,.2,1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}@media screen and (-ms-high-contrast:active){.mat-card{outline:solid 1px}}.mat-card-actions,.mat-card-content,.mat-card-subtitle{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px 0}@media (max-width:599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card-content>:first-child,.mat-card>:first-child{margin-top:0}.mat-card-content>:last-child:not(.mat-card-footer),.mat-card>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions .mat-button:first-child,.mat-card-actions .mat-raised-button:first-child{margin-left:0;margin-right:0}.mat-card-title{margin-bottom:8px}.mat-card-subtitle:not(:first-child),.mat-card-title:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],data:{}}));function o(t){return e["\u0275vid"](2,[e["\u0275ncd"](null,0),e["\u0275ncd"](null,1)],null,null)}},vzWj:function(t,n,i){"use strict";i.d(n,"a",function(){return e}),i("ygIs");var e=function(){return function(){}}()},ygIs:function(t,n,i){"use strict";i.d(n,"a",function(){return a}),i("CE6+");var e="pk.eyJ1Ijoicm9ndXNlciIsImEiOiJjanB1YzFrMmwwZjZnNDNxbGkwY28wdnI5In0.Xe4QgRnvsvP3WAncobSxqg",a=function(){function t(t){var n=this;this.mapObjects=t,this.apiKey=e,this.zoom=16,this.heatmap=!0,this.isLoaded=!1,this.uniqueId="map-box"+Math.floor(1e6*Math.random()),this.isRotating=!0,this.rotateTo=function(t){n.map.rotateTo(t/300%360,{duration:0}),n.isRotating&&requestAnimationFrame(n.rotateTo)}}return t.prototype.ngOnInit=function(){},t.prototype.ngOnChanges=function(t){t.locations&&this.isLoaded&&(this.isRotating=!1,this.heatmap?this.heatMapAdd():this.locationsAdd()),t.heatmap&&this.isLoaded&&(this.heatmap?this.heatMapAdd():(this.heatMapRemove(),this.locations&&this.locationsAdd()))},t.prototype.ngAfterViewInit=function(){this.scriptsLoad()},t.prototype.scriptsLoad=function(){var t=this;if(window.mapboxgl)this.mapInit(),this.isLoaded=!0;else{var n=document.createElement("script");n.type="text/javascript",n.src="https://api.mapbox.com/mapbox-gl-js/v0.52.0/mapbox-gl.js",n.onload=function(){t.mapInit(),t.isLoaded=!0},document.head.appendChild(n)}},t.prototype.mapInit=function(){var t=this;!this.map&&document.getElementById(this.uniqueId)&&(window.mapboxgl.accessToken=this.apiKey,navigator.geolocation.getCurrentPosition(function(n){t.mapCreate([n.coords.longitude,n.coords.latitude])},function(n){console.log(n),t.mapCreate([-115.172813,36.114647])}))},t.prototype.mapCreate=function(t){var n=this;this.map=new window.mapboxgl.Map({container:this.uniqueId,style:"mapbox://styles/mapbox/streets-v9",zoom:this.zoom,center:t,pitch:65}),this.map.on("load",function(){n.rotateTo(0),n.heatmap&&n.locations&&n.mapObjects.heatMapAdd(n.map,n.locations),n.heatmap||n.locationsAdd(),n.locations||(n.locations=[{latitude:t[1],longitude:t[0]}],n.locationsAdd());for(var i=n.map.getStyle().layers,e=0;e<i.length;e++)"symbol"===i[e].type&&i[e].layout["text-field"]&&n.map.removeLayer(i[e].id);n.map.addLayer({id:"3d-buildings",source:"composite","source-layer":"building",filter:["==","extrude","true"],type:"fill-extrusion",paint:{"fill-extrusion-color":"#aaa","fill-extrusion-height":["interpolate",["linear"],["zoom"],15,0,15.05,["get","height"]],"fill-extrusion-base":["interpolate",["linear"],["zoom"],15,0,15.05,["get","min_height"]],"fill-extrusion-opacity":.6}})})},t.prototype.heatMapAdd=function(){this.locationsRemove(),this.heatMapRemove(),this.mapObjects.heatMapAdd(this.map,this.locations),this.markers=this.mapObjects.markersCreate(this.locations),this.mapObjects.mapFitBounds(this.map,this.markers)},t.prototype.heatMapRemove=function(){this.mapObjects.heatMapRemove(this.map)},t.prototype.locationsAdd=function(){this.locations&&this.locations.length?(this.locationsRemove(),this.markers=this.mapObjects.markersCreate(this.locations),this.mapObjects.markersAdd(this.map,this.markers),this.mapObjects.mapFitBounds(this.map,this.markers)):this.locationsRemove()},t.prototype.locationsRemove=function(){this.markers&&this.markers.length&&this.markers.forEach(function(t){return t.remove()})},t}()}}]);