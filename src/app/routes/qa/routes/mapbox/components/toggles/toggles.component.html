<form [formGroup]="formSearch">
  <div class="toggles">
    <div class="flyout" *ngIf="toggleMenu?.rogListings">
      <div class="btn-group">
        <button
          type="button"
          class="btn p-0"
          [ngClass]="{ active: !formSearch.value.isBrand }"
          (click)="formChangeValue('isBrand', !formSearch.value.isBrand);toggleBackgroundShow = false;toggleClose();"
          title="Toggle ROG only listings"
        >
          <img src="assets/img/map-icon.png" style="max-width:30px;max-height:30px;" />
        </button>
        <button
          type="button"
          class="btn p-0"
          [ngClass]="{ active: formSearch.value.isBrand }"
          (click)="formChangeValue('isBrand', !formSearch.value.isBrand);toggleBackgroundShow = false;toggleClose();"
          title="Toggle ROG only listings"
        >
          <img src="assets/img/map-icon-rog.png" style="max-width:30px;max-height:30px;" />
        </button>
      </div>
    </div>
    <p class="mb-2">
      <button
        type="button"
        class="btn btn-rog"
        (click)="toggleOpen('rogListings', !toggleMenu.rogListings)"
        title="Toggle ROG only listings"
      ></button>
    </p>

    <!--
    MLS STATUS
    -->
    <div class="flyout" *ngIf="toggleMenu?.mlsStatus">
      <mat-button-toggle-group multiple>
        <mat-button-toggle
          value="Active"
          [checked]="formSearch.value.listing_status_active"
          (click)="formChangeValue('listing_status_active', !formSearch.value.listing_status_active)"
          >Active</mat-button-toggle
        >
        <mat-button-toggle
          value="Pending"
          [checked]="formSearch.value.listing_status_pending"
          (click)="formChangeValue('listing_status_pending', !formSearch.value.listing_status_pending)"
          >Pending</mat-button-toggle
        >
        <mat-button-toggle
          value="Withdrawn"
          [checked]="formSearch.value.listing_status_withdrawn"
          (click)="formChangeValue('listing_status_withdrawn', !formSearch.value.listing_status_withdrawn)"
          >Withdrawn</mat-button-toggle
        >
        <mat-button-toggle
          value="Sold"
          [checked]="formSearch.value.listing_status_sold"
          (click)="formChangeValue('listing_status_sold', !formSearch.value.listing_status_sold)"
          >Sold</mat-button-toggle
        >
      </mat-button-toggle-group>
    </div>
    <p class="mb-2">
      <button type="button" class="btn p-0" (click)="toggleOpen('mlsStatus', !toggleMenu.mlsStatus)">
        <i class="fa fa-info-circle" aria-hidden="true"></i>
      </button>
    </p>

    <!--
    Days On The Market
    -->
    <div class="flyout" *ngIf="toggleMenu?.daysOnMarket">
      <mat-button-toggle-group formControlName="days_on_market">
        <mat-button-toggle value="0">0 - 30</mat-button-toggle>
        <mat-button-toggle value="1">31-60</mat-button-toggle>
        <mat-button-toggle value="2">90+</mat-button-toggle>
      </mat-button-toggle-group>
    </div>
    <p class="mb-2">
      <button type="button" class="btn p-0" (click)="toggleOpen('daysOnMarket', !toggleMenu.daysOnMarket)">
        <i class="fa fa-calendar" aria-hidden="true"></i>
      </button>
    </p>

    <!--
    Beds
    -->
    <div class="flyout" *ngIf="toggleMenu?.beds">
      <div class="d-flex flex-row">
        <mat-button-toggle-group vertical class="mr-2" formControlName="bedroomsMin">
          <mat-button-toggle value="">No Min</mat-button-toggle>
          <mat-button-toggle value="1">1</mat-button-toggle>
          <mat-button-toggle value="2">2</mat-button-toggle>
          <mat-button-toggle value="3">3</mat-button-toggle>
          <mat-button-toggle value="4">4</mat-button-toggle>
          <mat-button-toggle value="5">5+</mat-button-toggle>
        </mat-button-toggle-group>
        <mat-button-toggle-group vertical class="mr-2" formControlName="bedroomsMax">
          <mat-button-toggle value="">No Max</mat-button-toggle>
          <mat-button-toggle value="1">1</mat-button-toggle>
          <mat-button-toggle value="2">2</mat-button-toggle>
          <mat-button-toggle value="3">3</mat-button-toggle>
          <mat-button-toggle value="4">4</mat-button-toggle>
          <mat-button-toggle value="5">5+</mat-button-toggle>
        </mat-button-toggle-group>
      </div>
    </div>
    <p class="mb-2">
      <button type="button" class="btn p-0" (click)="toggleOpen('beds', !toggleMenu.beds)">
        <i class="fa fa-bed" aria-hidden="true"></i>
      </button>
    </p>

    <!--
    Baths
    -->
    <div class="flyout" *ngIf="toggleMenu?.baths">
      <div class="d-flex flex-row">
        <mat-button-toggle-group vertical class="mr-2" formControlName="bathsMin">
          <mat-button-toggle value="">No Min</mat-button-toggle>
          <mat-button-toggle value="1">1</mat-button-toggle>
          <mat-button-toggle value="2">2</mat-button-toggle>
          <mat-button-toggle value="3">3</mat-button-toggle>
          <mat-button-toggle value="4">4</mat-button-toggle>
          <mat-button-toggle value="5">5+</mat-button-toggle>
        </mat-button-toggle-group>
        <mat-button-toggle-group vertical class="mr-2" formControlName="bathsMax">
          <mat-button-toggle value="">No Max</mat-button-toggle>
          <mat-button-toggle value="1">1</mat-button-toggle>
          <mat-button-toggle value="2">2</mat-button-toggle>
          <mat-button-toggle value="3">3</mat-button-toggle>
          <mat-button-toggle value="4">4</mat-button-toggle>
          <mat-button-toggle value="5">5+</mat-button-toggle>
        </mat-button-toggle-group>
      </div>
    </div>
    <p class="mb-2">
      <button type="button" class="btn p-0" (click)="toggleOpen('baths', !toggleMenu.baths)">
        <i class="fa fa-bath" aria-hidden="true"></i>
      </button>
    </p>

    <!--
    Price
    -->
    <div class="flyout" *ngIf="toggleMenu?.price" style="top: 20%;">
      <div class="d-flex flex-row">
        <mat-button-toggle-group vertical class="sm mr-2" formControlName="priceLow">
          <mat-button-toggle value="">No Min Price</mat-button-toggle>
          <mat-button-toggle value="50000" [checked]="">$50k</mat-button-toggle>
          <mat-button-toggle value="10000" [checked]="">$100k</mat-button-toggle>
          <mat-button-toggle value="150000" [checked]="">$150k</mat-button-toggle>
          <mat-button-toggle value="200000" [checked]="">$200k</mat-button-toggle>
          <mat-button-toggle value="250000" [checked]="">$250k</mat-button-toggle>
          <mat-button-toggle value="300000" [checked]="">$300k</mat-button-toggle>
          <mat-button-toggle value="400000" [checked]="">$400k</mat-button-toggle>
          <mat-button-toggle value="450000" [checked]="">$450k</mat-button-toggle>
          <mat-button-toggle value="500000" [checked]="">$500k</mat-button-toggle>
          <mat-button-toggle value="600000" [checked]="">$600k</mat-button-toggle>
          <mat-button-toggle value="700000" [checked]="">$700k</mat-button-toggle>
          <mat-button-toggle value="800000" [checked]="">$800k</mat-button-toggle>
          <mat-button-toggle value="900000" [checked]="">$900k</mat-button-toggle>
          <mat-button-toggle value="1000000" [checked]="">$1M+</mat-button-toggle>
        </mat-button-toggle-group>

        <mat-button-toggle-group vertical class="sm" formControlName="priceHigh">
          <mat-button-toggle value="">No Max Price</mat-button-toggle>
          <mat-button-toggle value="50000" [checked]="">$50k</mat-button-toggle>
          <mat-button-toggle value="10000" [checked]="">$100k</mat-button-toggle>
          <mat-button-toggle value="150000" [checked]="">$150k</mat-button-toggle>
          <mat-button-toggle value="200000" [checked]="">$200k</mat-button-toggle>
          <mat-button-toggle value="250000" [checked]="">$250k</mat-button-toggle>
          <mat-button-toggle value="300000" [checked]="">$300k</mat-button-toggle>
          <mat-button-toggle value="400000" [checked]="">$400k</mat-button-toggle>
          <mat-button-toggle value="450000" [checked]="">$450k</mat-button-toggle>
          <mat-button-toggle value="500000" [checked]="">$500k</mat-button-toggle>
          <mat-button-toggle value="600000" [checked]="">$600k</mat-button-toggle>
          <mat-button-toggle value="700000" [checked]="">$700k</mat-button-toggle>
          <mat-button-toggle value="800000" [checked]="">$800k</mat-button-toggle>
          <mat-button-toggle value="900000" [checked]="">$900k</mat-button-toggle>
          <mat-button-toggle value="1000000" [checked]="">$1M+</mat-button-toggle>
        </mat-button-toggle-group>
      </div>
    </div>

    <p class="mb-2">
      <button type="button" class="btn p-0" (click)="toggleOpen('price', !toggleMenu.price)">
        <i class="fa fa-dollar" aria-hidden="true"></i>
      </button>
    </p>

    <!--
    Square footage
    -->
    <div class="flyout" *ngIf="toggleMenu?.sqft" style="top: 20%;">
      <div class="d-flex flex-row">
        <mat-button-toggle-group vertical class="sm mr-2" formControlName="sqFootageMin">
          <mat-button-toggle value="">No Min Sq Ft</mat-button-toggle>
          <mat-button-toggle value="250" [checked]="">250</mat-button-toggle>
          <mat-button-toggle value="500" [checked]="">500</mat-button-toggle>
          <mat-button-toggle value="750" [checked]="">750</mat-button-toggle>
          <mat-button-toggle value="1000" [checked]="">1000</mat-button-toggle>
          <mat-button-toggle value="1250" [checked]="">1250</mat-button-toggle>
          <mat-button-toggle value="1500" [checked]="">1500</mat-button-toggle>
          <mat-button-toggle value="1750" [checked]="">1750</mat-button-toggle>
          <mat-button-toggle value="2000" [checked]="">2000</mat-button-toggle>
          <mat-button-toggle value="2500" [checked]="">2500</mat-button-toggle>
          <mat-button-toggle value="3000" [checked]="">3000</mat-button-toggle>
          <mat-button-toggle value="3500" [checked]="">3500</mat-button-toggle>
          <mat-button-toggle value="4000" [checked]="">4000+</mat-button-toggle>
        </mat-button-toggle-group>
        <mat-button-toggle-group vertical class="sm" formControlName="sqFootageMax">
          <mat-button-toggle value="">No Max Sq Ft</mat-button-toggle>
          <mat-button-toggle value="250" [checked]="">250</mat-button-toggle>
          <mat-button-toggle value="500" [checked]="">500</mat-button-toggle>
          <mat-button-toggle value="750" [checked]="">750</mat-button-toggle>
          <mat-button-toggle value="1000" [checked]="">1000</mat-button-toggle>
          <mat-button-toggle value="1250" [checked]="">1250</mat-button-toggle>
          <mat-button-toggle value="1500" [checked]="">1500</mat-button-toggle>
          <mat-button-toggle value="1750" [checked]="">1750</mat-button-toggle>
          <mat-button-toggle value="2000" [checked]="">2000</mat-button-toggle>
          <mat-button-toggle value="2500" [checked]="">2500</mat-button-toggle>
          <mat-button-toggle value="3000" [checked]="">3000</mat-button-toggle>
          <mat-button-toggle value="3500" [checked]="">3500</mat-button-toggle>
          <mat-button-toggle value="4000" [checked]="">4000+</mat-button-toggle>
        </mat-button-toggle-group>
      </div>
    </div>
    <p class="mb-2">
      <button type="button" class="btn p-0" (click)="toggleOpen('sqft', !toggleMenu.sqft)">
        <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
      </button>
    </p>

    <!--
   Property Type
  -->
    <div class="flyout small" *ngIf="toggleMenu?.propertyType">
      <mat-button-toggle-group name="propType" multiple class="w-100 d-flex" #group>
        <mat-button-toggle
          class="flex-fill"
          [checked]="formSearch.value.is_single_family"
          (click)="formChangeValue('is_single_family', !formSearch.value.is_single_family)"
        >
          House
        </mat-button-toggle>
        <mat-button-toggle
          class="flex-fill"
          [checked]="formSearch.value.is_condo"
          (click)="formChangeValue('is_condo', !formSearch.value.is_condo)"
        >
          Condo
        </mat-button-toggle>
        <mat-button-toggle
          class="flex-fill"
          [checked]="formSearch.value.is_townhouse"
          (click)="formChangeValue('is_townhouse', !formSearch.value.is_townhouse)"
        >
          Townhome
        </mat-button-toggle>
        <mat-button-toggle
          class="flex-fill"
          [checked]="formSearch.value.is_multi_family"
          (click)="formChangeValue('is_multi_family', !formSearch.value.is_multi_family)"
        >
          Multi-family
        </mat-button-toggle>
      </mat-button-toggle-group>
    </div>
    <p class="mb-2">
      <button type="button" class="btn p-0" (click)="toggleOpen('propertyType', !toggleMenu.propertyType)">
        <i class="fa fa-home" aria-hidden="true"></i>
      </button>
    </p>

    <!--
    Heatmap Toggle
  -->
    <p class="mb-2">
      <button
        type="button"
        class="btn p-0"
        [ngClass]="{ active: toggleActive.heatmap }"
        (click)="toggleSelected.emit({ event: 'heatmap' }); toggleActive.heatmap = !toggleActive.heatmap"
        title="Toggle Heatmap"
      >
        <i class="fa fa-map" aria-hidden="true"></i>
      </button>
    </p>
    <p class="mb-2">
      <button type="button" [matMenuTriggerFor]="appMenu" class="btn p-0" title="Choose different map styles">
        <i class="fa fa-street-view" aria-hidden="true"></i>
      </button>
      <mat-menu #appMenu="matMenu" xPosition="before" yPosition="below">
        <button type="button" mat-menu-item (click)="toggleSelected.emit({ event: 'mapStyle', data: 'basic' })">
          Basic
        </button>
        <button type="button" mat-menu-item (click)="toggleSelected.emit({ event: 'mapStyle', data: 'streets' })">
          Streets
        </button>
        <button type="button" mat-menu-item (click)="toggleSelected.emit({ event: 'mapStyle', data: 'bright' })">
          Bright
        </button>
        <button type="button" mat-menu-item (click)="toggleSelected.emit({ event: 'mapStyle', data: 'light' })">
          Light
        </button>
        <button type="button" mat-menu-item (click)="toggleSelected.emit({ event: 'mapStyle', data: 'dark' })">
          Dark
        </button>
        <button type="button" mat-menu-item (click)="toggleSelected.emit({ event: 'mapStyle', data: 'satellite' })">
          Satellite
        </button>
      </mat-menu>
    </p>

    <!--
      Reset All Options
    -->
    <div style="position:absolute;bottom:20px;">
      <button
        type="button"
        class="btn p-0"
        (click)="formReset()"
        title="Reset Form"
      >
        <i class="fa fa-ban fa-2x"></i>
      </button>
    </div>
  </div>
  <div class="flyout-bg" (click)="toggleOpen()" (dragstart)="toggleOpen()" draggable *ngIf="toggleBackgroundShow"></div>
</form>
